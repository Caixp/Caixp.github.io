<!DOCTYPE html>
<html>
<head>
  <meta name="google-site-verification" content="iurulp8zN0_3B87QkdYx1BvJhL7O6jnVCCzOB9VybtQ" />
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Archives: 2019 | cxp&#39;s blog</title>
  
  
  <meta name="description" content="When the going gets tough,the tough get going!">
  

  
  <link rel="alternate" href="/atom.xml" title="cxp's blog">
  

  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- meta -->
  

  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.6.3/css/all.min.css">
  

  
  <link rel="shortcut icon" type='image/x-icon' href="https://i.loli.net/2019/05/17/5cde530dcacf466581.jpg">
  

  
    <link rel="stylesheet" href="/style.css">
  

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>

  
  
<link rel="alternate" href="/atom.xml" title="cxp's blog" type="application/atom+xml">
</head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>

<body>
  
  
  <div class="cover-wrapper">
    <cover class='cover  half'>
      
        
  <h1 class='title'>Stay Hungry  Stay Foolish</h1>


  <div class="m_search">
    <form name="searchform" class="form u-search-form">
      <input type="text" class="input u-search-input" placeholder="" />
      <i class="icon fas fa-search fa-fw"></i>
    </form>
  </div>

<div class='menu navgation'>
  <ul class='h-list'>
    
      
        <li>
          <a class="nav home" href="/"
            
            
            id="home">
            <i class='fas fa-home fa-fw'></i>&nbsp;主页
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/friends/"
            
              rel="nofollow"
            
            
            id="friends">
            <i class='fas fa-link fa-fw'></i>&nbsp;友链
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/about/"
            
              rel="nofollow"
            
            
            id="about">
            <i class='fas fa-user-secret fa-fw'></i>&nbsp;简历
          </a>
        </li>
      
    
  </ul>
</div>

      
    </cover>
    <header class="l_header pure">
  <div id="loading-bar-wrapper">
    <div id="loading-bar" class="pure"></div>
  </div>

	<div class='wrapper'>
		<div class="nav-main container container--flex">
      <a class="logo flat-box" href='/' >
        
          cxp's blog
        
      </a>
			<div class='menu navgation'>
				<ul class='h-list'>
          
  					
  						<li>
								<a class="nav flat-box" href="/"
                  
                  
                  id="home">
									<i class='fas fa-home fa-fw'></i>&nbsp;主页
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/categories/"
                  
                    rel="nofollow"
                  
                  
                  id="categories">
									<i class='fas fa-folder-open fa-fw'></i>&nbsp;分类
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/archives/"
                  
                    rel="nofollow"
                  
                  
                  id="archives">
									<i class='fas fa-archive fa-fw'></i>&nbsp;归档
								</a>
							</li>
      			
      		
				</ul>
			</div>

			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="搜索" />
						<i class="icon fas fa-search fa-fw"></i>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a class="fas fa-search fa-fw" href='javascript:void(0)' target="_blank" rel="noopener"></a></li>
				
				<li class='s-menu'><a class="fas fa-bars fa-fw" href='javascript:void(0)' target="_blank" rel="noopener"></a></li>
			</ul>
		</div>

		<div class='nav-sub container container--flex'>
			<a class="logo flat-box"></a>
			<ul class='switcher h-list'>
				<li class='s-comment'><a class="flat-btn fas fa-comments fa-fw" href='javascript:void(0)' target="_blank" rel="noopener"></a></li>
        
          <li class='s-toc'><a class="flat-btn fas fa-list fa-fw" href='javascript:void(0)' target="_blank" rel="noopener"></a></li>
        
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone">
    <header>
		<nav class="menu navgation">
      <ul>
        
          
            <li>
							<a class="nav flat-box" href="/archives/"
                
                  rel="nofollow"
                
                
                id="archives">
								<i class='fas fa-archive fa-fw'></i>&nbsp;近期文章
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/friends/"
                
                  rel="nofollow"
                
                
                id="friends">
								<i class='fas fa-link fa-fw'></i>&nbsp;我的友链
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="https://xaoxuu.com/wiki/material-x/"
                
                  rel="nofollow"
                
                
                id="https:xaoxuu.comwikimaterial-x">
								<i class='fas fa-book fa-fw'></i>&nbsp;文档
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/about/"
                
                  rel="nofollow"
                
                
                id="about">
								<i class='fas fa-user-secret fa-fw'></i>&nbsp;简历
							</a>
            </li>
          
       
      </ul>
		</nav>
    </header>
	</aside>
<script>setLoadingBarProgress(40);</script>

  </div>


  <div class="l_body">
    <div class='body-wrapper'>
      <div class='l_main'>
	
		
  <section class="post-list">
    
    
      
        
          <div class='post-wrapper'>
            <article class="post reveal ">
  


  <section class='meta'>
    
    
    <div class="meta" id="header-meta">
      
        
  <h2 class="title">
    <a href="/archives/8409c1ac.html">
      PYTHON编程：从入门到实践（学习笔记）
    </a>
  </h2>


      
      <div class='new-meta-box'>
        
          
        
          
            
  <div class='new-meta-item author'>
    <a href="/https:/cxpeng.cn" rel="nofollow">
      
        <img src="https://i.loli.net/2019/05/17/5cde5331de4a260723.jpg">
      
      <p>Alex</p>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2019-03-16</p>
  </a>
</div>

          
        
          
            
  
  <div class='new-meta-item category'>
    <a href='/categories/Python/' rel="nofollow">
      <i class="fas fa-folder-open" aria-hidden="true"></i>
      <p>Python</p>
    </a>
  </div>


          
        
          
            

          
        
          
            

          
        
      </div>
      
        <hr>
      
    </div>
  </section>


  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      <h1 id="python基础"><a class="markdownIt-Anchor" href="#python基础"></a> Python基础</h1>
<h2 id="一-安装"><a class="markdownIt-Anchor" href="#一-安装"></a> 一、安装</h2>
<pre><code>1、版本v2.x  v3.x
2、操作系统LINUX、WINDOWS、MAC OS
3、管理工具安装anaconda、操作命令安装
</code></pre>
<h2 id="二-变量和简单数据类型"><a class="markdownIt-Anchor" href="#二-变量和简单数据类型"></a> 二、变量和简单数据类型</h2>
<h3 id="21变量"><a class="markdownIt-Anchor" href="#21变量"></a> 2.1变量</h3>
<p>用来保存存储的内容</p>
<h3 id="22字符串"><a class="markdownIt-Anchor" href="#22字符串"></a> 2.2字符串</h3>
<blockquote>
<p>一系列字符。</p>
</blockquote>
<ul>
<li>
<p>创建字符串“”</p>
</li>
<li>
<p>capitalize():首字母大写string.capitalize()-----&gt;String</p>
</li>
<li>
<p>center():居中，参数添加显示字符宽度</p>
</li>
<li>
<p>chr()</p>
</li>
<li>
<p>cmp()</p>
</li>
<li>
<p>count()计数</p>
</li>
<li>
<p>decode()解码</p>
</li>
<li>
<p>encode()编码</p>
</li>
<li>
<p>endswith()判断是否以某段字符结尾</p>
</li>
<li>
<p>expandtabs()</p>
</li>
<li>
<p>find()查找字符串中的位置，返回第一个查找到的下标</p>
</li>
<li>
<p>format()格式化字符串</p>
</li>
<li>
<p>hex()</p>
</li>
<li>
<p>index()返回索引值</p>
</li>
<li>
<p>isalnum()</p>
</li>
<li>
<p>isalpha</p>
</li>
<li>
<p>isdecimal()</p>
</li>
<li>
<p>isdigit()</p>
</li>
<li>
<p>islower()</p>
</li>
<li>
<p>isnumeric()</p>
</li>
<li>
<p>isspace()</p>
</li>
<li>
<p>istitle()是否首字母大写</p>
</li>
<li>
<p>isupper()是否全部大写</p>
</li>
<li>
<p>join()连接</p>
</li>
<li>
<p>len()计算出长度</p>
</li>
<li>
<p>list()转换为字符串</p>
</li>
<li>
<p>ljust()左对齐，传入参数表示显示字符宽度</p>
</li>
<li>
<p>lower()将所有大写变为小写</p>
</li>
<li>
<p>lstrip()去掉左边空格</p>
</li>
<li>
<p>max()</p>
</li>
<li>
<p>min()</p>
</li>
<li>
<p>oct()</p>
</li>
<li>
<p>ord()</p>
</li>
<li>
<p>partition()以参数中的字符分区</p>
</li>
<li>
<p>replace()</p>
</li>
<li>
<p>repr()</p>
</li>
<li>
<p>rfind()从左边查找，返回下标索引</p>
</li>
<li>
<p>rindex()</p>
</li>
<li>
<p>rjust()右对齐</p>
</li>
<li>
<p>rpartition()从右边开始查找分区的字符</p>
</li>
<li>
<p>rsplit()拆分字符</p>
</li>
<li>
<p>rstrip()</p>
</li>
<li>
<p>split()</p>
</li>
<li>
<p>splitlines()</p>
</li>
<li>
<p>startswith()</p>
</li>
<li>
<p>str()</p>
</li>
<li>
<p>strip()</p>
</li>
<li>
<p>swapcase()</p>
</li>
<li>
<p>translate()</p>
</li>
<li>
<p>tuple()</p>
</li>
<li>
<p>type()</p>
</li>
<li>
<p>upper()</p>
</li>
<li>
<p>zfill()填充0</p>
</li>
<li>
<p>合并拼接字符串：可以使用+</p>
</li>
<li>
<p>使用制表符\t和换行符\n</p>
</li>
<li>
<p>删除空白：rstrip()、lstrip()、strip()</p>
</li>
<li>
<p>要注意’’ 和 `的区别 如果在一起使用的话可以从trackback中看到错误信息</p>
</li>
</ul>
<h3 id="23数字"><a class="markdownIt-Anchor" href="#23数字"></a> 2.3数字</h3>
<p>加减乘除、乘方运算(**)、取余%</p>
<ul>
<li>整数： ±*/  注意地板除(//)向下取整</li>
<li>浮点数：</li>
<li>使用str()来避免类型错误</li>
</ul>
<h3 id="24注释"><a class="markdownIt-Anchor" href="#24注释"></a> 2.4注释</h3>
<blockquote>
<p>使用注释的目的是阐述代码要做什么</p>
</blockquote>
<ul>
<li>使用#</li>
<li>python之禅：import this</li>
</ul>
<h2 id="三-列表"><a class="markdownIt-Anchor" href="#三-列表"></a> 三、列表</h2>
<blockquote>
<p>由一系列特定顺序的元素组成，用[]来表示列表。元素用逗号隔开，</p>
</blockquote>
<h3 id="31访问列表"><a class="markdownIt-Anchor" href="#31访问列表"></a> 3.1访问列表</h3>
<ul>
<li>
<p>列表是有序集合，用索引值即可，<strong>索引值从0开始</strong></p>
</li>
<li>
<p>可以使用负数索引：</p>
<p>a=[1,2,3,4]<br />
a[-1]<br />
4</p>
</li>
</ul>
<h3 id="32修改-添加-删除列表元素"><a class="markdownIt-Anchor" href="#32修改-添加-删除列表元素"></a> 3.2修改、添加、删除列表元素</h3>
<ul>
<li>修改：使用列表名和索引值修改</li>
<li>增加：append()、insert(position， value)</li>
<li>删除：del()、pop()、remove()，两者的区别是第二种方法可以返回删除的元素，pop(index)可以弹出指定的值。其中remove只删除第一个指定的值</li>
</ul>
<h3 id="33组织列表"><a class="markdownIt-Anchor" href="#33组织列表"></a> 3.3组织列表</h3>
<ul>
<li>排序sort(),永久性修改。可以通过修改reverse=True反向排序</li>
<li>排序sorted(),临时性修改。可以通过修改reverse=True反向排序</li>
<li>反转reverse()，注意不是排序</li>
<li>len()</li>
</ul>
<h3 id="34每当访问最后一个元素的时候都是用索引值-1"><a class="markdownIt-Anchor" href="#34每当访问最后一个元素的时候都是用索引值-1"></a> 3.4每当访问最后一个元素的时候都是用索引值-1</h3>
<h2 id="四-操作列表"><a class="markdownIt-Anchor" href="#四-操作列表"></a> 四、操作列表</h2>
<h3 id="41遍历列表"><a class="markdownIt-Anchor" href="#41遍历列表"></a> 4.1遍历列表</h3>
<blockquote>
<p>使用for循环，循环是计算机自动完成重复工作的常见方式之一</p>
</blockquote>
<p><strong>for in ：</strong><br />
这时候接触到代码块了，要注意代码块的缩进规则</p>
<h3 id="42创建数值列表"><a class="markdownIt-Anchor" href="#42创建数值列表"></a> 4.2创建数值列表</h3>
<ul>
<li>使用range(start, end, steps)产生一系列数字</li>
<li>使用list()将range()产生的数字转成列表</li>
</ul>
<h3 id="43简单统计计算"><a class="markdownIt-Anchor" href="#43简单统计计算"></a> 4.3简单统计计算</h3>
<ul>
<li>max()</li>
<li>min()</li>
<li>sum()</li>
</ul>
<h3 id="44列表解析"><a class="markdownIt-Anchor" href="#44列表解析"></a> 4.4列表解析</h3>
<blockquote>
<p>只需要一行代码就可以产生列表结构为：类似为[i for i in range(1,11)]</p>
</blockquote>
<h3 id="45切片"><a class="markdownIt-Anchor" href="#45切片"></a> 4.5切片</h3>
<blockquote>
<p>大体的索引结构为：[start🔚step]</p>
</blockquote>
<p>可以通过切片来复制列表为一个新的列表[:]</p>
<h3 id="46元组tuple"><a class="markdownIt-Anchor" href="#46元组tuple"></a> 4.6元组tuple</h3>
<blockquote>
<p>不可变的列表，用（）来表示，不可修改</p>
</blockquote>
<h3 id="47集合"><a class="markdownIt-Anchor" href="#47集合"></a> 4.7集合</h3>
<blockquote>
<p>集合可以用来去掉重复的列表数据</p>
</blockquote>
<p>集合的操作：交、并、差、是否为子集</p>
<ul>
<li>set.add(obj)添加操作</li>
<li>set.remove(obj)删除,若不存在则抛出异常</li>
<li>set.discard(obj)删除，相对于remove()它不会抛出异常。</li>
<li>set.pop()弹出，返回任意的值，所以并不能用来获取弹出的值</li>
<li>set.clear()清除集合</li>
</ul>
<h3 id="48pep8"><a class="markdownIt-Anchor" href="#48pep8"></a> 4.8PEP8</h3>
<p>编码规则：</p>
<ul>
<li>缩进：主要不要混用制表键和空格，使用编辑器应该设置好制表键与空格的关系字符</li>
<li>行长：不超过80个,编辑器中可以设置视觉线。</li>
</ul>
<h2 id="五-条件语句"><a class="markdownIt-Anchor" href="#五-条件语句"></a> 五、条件语句</h2>
<blockquote>
<p>根据条件来进行选择什么样的措施</p>
</blockquote>
<h3 id="51条件测试"><a class="markdownIt-Anchor" href="#51条件测试"></a> 5.1条件测试</h3>
<p>检查的标准是条件表达式返回的是True还是False，进而来判断是否执行相应语句</p>
<blockquote>
<p>=赋值 ==是检查是否相等  ！=不相等<br />
检查多个条件用and或者or<br />
检查是否在结构中用in或者not in</p>
</blockquote>
<h3 id="52if语句"><a class="markdownIt-Anchor" href="#52if语句"></a> 5.2if语句</h3>
<pre><code>if condition ：
	pass
elif condition：
else：
</code></pre>
<h3 id="53if语句的用处"><a class="markdownIt-Anchor" href="#53if语句的用处"></a> 5.3if语句的用处：</h3>
<ul>
<li>检测异常值，符合异常条件的数据</li>
<li>判断列表是不是空的</li>
</ul>
<p><strong>注意在使用比价运算符时PEP8提供建议是在运算符号两边添加空格，方便阅读</strong></p>
<h2 id="六-字典"><a class="markdownIt-Anchor" href="#六-字典"></a> 六、字典</h2>
<blockquote>
<p>字典是一系列键-值对  用{}表示</p>
</blockquote>
<h3 id="61使用字典"><a class="markdownIt-Anchor" href="#61使用字典"></a> 6.1使用字典</h3>
<ul>
<li>通过键来访问value</li>
<li>因为字典是一种动态的结构可以随时的添加键值对，是可变的对象，python不关心键值对的添加顺序，只关心相互关系</li>
<li>修改字典中的value是通过key来修改</li>
<li>删除，del, 同修改</li>
<li>字典的键必须是不可变类型</li>
<li>清空字典dict.clear()</li>
<li>dict.formkeys(seq,val=None)创建并初始化键值的字典。</li>
</ul>
<p><strong>在定义好字典时候最好在最后一个键值对后再添加一个逗号，为下一对键值对插入做准备</strong></p>
<h3 id="62遍历字典"><a class="markdownIt-Anchor" href="#62遍历字典"></a> 6.2遍历字典</h3>
<ul>
<li>遍历键值对   item()返回键、值</li>
<li>遍历键keys()或者值 values()</li>
<li>遍历时考虑顺序遍历的话可以使用sorted()函数来进行对keys排序</li>
<li>遍历值得时考虑重复数据可以使用set做一个转换消除重复值</li>
</ul>
<h3 id="63嵌套"><a class="markdownIt-Anchor" href="#63嵌套"></a> 6.3嵌套</h3>
<blockquote>
<p>{[]}、[{}].但是在字典中存储列表只能作为value存储</p>
</blockquote>
<h3 id="64字典类型内置方法"><a class="markdownIt-Anchor" href="#64字典类型内置方法"></a> 6.4字典类型内置方法</h3>
<ul>
<li>dict.clear()清空字典</li>
<li>dict.copy()浅拷贝字典</li>
<li>dict.fromkeys(seq，default=None)，创建一个字典，seq是key，并初始化values为默认值。</li>
<li>dict.has_key()判断dict中是否有key</li>
<li>dict.items()，返回元组列表</li>
<li>dict.keys()</li>
<li>dict.values()</li>
<li>dict.pop()同get，不过是返回并删除</li>
<li>dict.get(key，default=None)返回key对应的值，如果没有在dict中的话返回默认值</li>
<li>dict.setdefault(key,default=None)</li>
<li>dict.update(dict2)将dict中的键值加入到dict中，并且更新原字典。</li>
</ul>
<h2 id="七-检测用户输入和while循环"><a class="markdownIt-Anchor" href="#七-检测用户输入和while循环"></a> 七、检测用户输入和while循环</h2>
<blockquote>
<p>input(info):让程序暂停，等待用户输入一些文本，其中info为提示信息。同样在python2.7中使用raw_input()<br />
while用来不断检测</p>
</blockquote>
<p><strong>input函数没什么可说的就是使用用户输入数据时要注意做类型的变换</strong></p>
<h3 id="71标志"><a class="markdownIt-Anchor" href="#71标志"></a> 7.1标志</h3>
<p>对于while，为了使用简单，当条件比较多的时候，可以通过设置标志来判断是否结束循环。</p>
<h3 id="72break"><a class="markdownIt-Anchor" href="#72break"></a> 7.2break</h3>
<p>break用来控制程序，退出循环程序，不在执行剩余代码。</p>
<h3 id="73continue"><a class="markdownIt-Anchor" href="#73continue"></a> 7.3continue</h3>
<p>continue用来控制程序流程，退出当次循环不在进行一下代码，直接跳到下一循环。</p>
<h2 id="八-函数"><a class="markdownIt-Anchor" href="#八-函数"></a> 八、函数</h2>
<blockquote>
<p>函数是带有名字的代码块。用来完成特定的功能。</p>
</blockquote>
<h3 id="81参数"><a class="markdownIt-Anchor" href="#81参数"></a> 8.1参数</h3>
<ul>
<li>实参：函数调用过程中传递进去的参数</li>
<li>形参：函数定义中的参数</li>
</ul>
<h3 id="82传递参数"><a class="markdownIt-Anchor" href="#82传递参数"></a> 8.2传递参数</h3>
<ul>
<li>位置实参：实参与形参位置相同</li>
<li>关键字实参：实参由变量和值组成</li>
<li>使用字典和列表：</li>
<li>函数定义中使用默认值时，要是不传进去实参，函数将会使用默认值</li>
<li>传参方式可以混合使用</li>
</ul>
<h3 id="83返回值"><a class="markdownIt-Anchor" href="#83返回值"></a> 8.3返回值</h3>
<blockquote>
<p>返回值可以简化主程序，将大量的工作放在函数中，使用return返回函数的运算结果。<br />
让参数变成可选的在函数定义时设置为空，可以扩展函数的适用范围。</p>
</blockquote>
<h3 id="84传递任意数量的实参"><a class="markdownIt-Anchor" href="#84传递任意数量的实参"></a> 8.4传递任意数量的实参</h3>
<ul>
<li>*args</li>
</ul>
<h3 id="85将函数存储在模块中"><a class="markdownIt-Anchor" href="#85将函数存储在模块中"></a> 8.5将函数存储在模块中</h3>
<blockquote>
<p>使用module_name.function_name()来调用模块中的函数<br />
模块</p>
</blockquote>
<h3 id="86注意事项"><a class="markdownIt-Anchor" href="#86注意事项"></a> 8.6注意事项</h3>
<p>编写函数时应该注意到，函数名字尽量使用小写字母和下划线，名字要容易解释功能，另外要包含阐述函数功能的注释。</p>
<h2 id="九-类"><a class="markdownIt-Anchor" href="#九-类"></a> 九、类</h2>
<blockquote>
<p>面对对象编程是最有效的软件编写方法之一，根据类来创建对象，类中定义的是一类对象都有的通用的行为，可以根据对象赋予不同的个性行为。类是用来描述具有同类属性实例的概括词汇，对象是类实例化的个体。Python中类即对象</p>
</blockquote>
<p>面对对象设计的三大特性：</p>
<ul>
<li>封装</li>
<li>继承</li>
<li>多态</li>
</ul>
<h3 id="91创建使用类"><a class="markdownIt-Anchor" href="#91创建使用类"></a> 9.1创建使用类：</h3>
<pre><code>class A(object):
	def __init__(self, *xxx)：
		pass
	def a(*xxx):
		pass
	...
</code></pre>
<p><em>一般在Python中首字母大写的是类</em></p>
<p>类中包含<strong>方法（类中的函数）、属性</strong>，<strong>init</strong>()中形参必不可少必须位于其他参数之前在python创建实例的时候，将自动传给self，它是一个指定实例本身的引用。以self为前缀的类中的变量都可以被类中其他方法使用。</p>
<p>使用句点表示法使用类中属性和调用类中方法**.**</p>
<h3 id="92修改属性的值"><a class="markdownIt-Anchor" href="#92修改属性的值"></a> 9.2修改属性的值</h3>
<ul>
<li>直接修改，使用实例访问</li>
<li>通过方法修改属性的值</li>
<li>通过方法对属性的值进行递增</li>
</ul>
<h3 id="93继承"><a class="markdownIt-Anchor" href="#93继承"></a> 9.3继承</h3>
<blockquote>
<p>一个类继承另一个类时，将自动获得另一个类的所有属性和方法：<code>父类</code>-&gt;<code>子类</code><br />
子类继承了父类的所有属性和方法，还可以定义自己的属性和方法。</p>
</blockquote>
<p>子类方法的__init__()方法：需要先设置父类的属性：</p>
<pre><code>class Car(object):
	def __init__(self, *xxx):
		pass
class Necar(Car):
	def __init__(self, *xxx):
		super().__init__(*xxx)
</code></pre>
<p>继承之后，可以定义子类的属性和方法，并且可以重写父类的方法，<strong>要与父类方法重名</strong><br />
当了解了类的之后，在考虑问题是后就需要考虑属性的归属，要根据具体的业务分析编写代码，每种建模思想都没有错只是有效率高低之分，要从实践中总结。</p>
<h3 id="94导入类"><a class="markdownIt-Anchor" href="#94导入类"></a> 9.4导入类</h3>
<blockquote>
<p>类可以保存在模块中，然后在需要的时候导入到程序中</p>
</blockquote>
<pre><code>from a import A #导入一个类
from a impoert A,B #导入模块中多个类		
import a #导入整个模块
from a import b #一个模块中导入另一个模块
</code></pre>
<p>自定义工作流程:<code>先开始让代码尽可能简单---确保功能正常后提取功能模块，进行模块独立-----进行模块和文件交互</code></p>
<p>类中的特殊方法：</p>
<ul>
<li>_<em>init</em>_(self,)构造函数</li>
<li>_<em>new</em>_(slef)通常用于创建不可变数据类型的子类</li>
<li>_<em>del</em>_(self)析构函数</li>
<li>_<em>str</em>_(self)可打印字符串表示</li>
<li>_<em>repr</em>_(self)</li>
<li>_<em>unicode</em>_(self)</li>
<li>_<em>call</em>_(self)可调用的实例</li>
<li>_<em>nonzero</em>_(self)对对象定义false值</li>
<li>_<em>len</em>_(self)</li>
<li>_<em>cmp</em>_(self)对象比较</li>
<li>_<em>lt</em>_(self)</li>
<li>_<em>le</em>_(self)</li>
<li>_<em>gt</em>_(self)</li>
<li>_<em>ge</em>_(self)</li>
<li>_<em>eq</em>_(self)</li>
<li>_<em>getattr</em>_(self)</li>
<li>_<em>setattr</em>_(self)</li>
<li>_<em>delattr</em>_(self)</li>
<li>_<em>get</em>_(self)</li>
<li>_<em>set</em>_(self)</li>
<li>_<em>delete</em>_(self)</li>
<li>_<em>iter</em>_(self)创建迭代器类</li>
<li>_<em>hash</em>_(self)散列函数值</li>
</ul>
<h2 id="十-文件和异常"><a class="markdownIt-Anchor" href="#十-文件和异常"></a> 十、文件和异常</h2>
<blockquote>
<p>异常：python创建的特殊对象，用于管理程序运行时出现的错误，让程序在面对错误的数据室更健壮。</p>
</blockquote>
<h3 id="101文件读写"><a class="markdownIt-Anchor" href="#101文件读写"></a> 10.1文件读写</h3>
<p>打开模式：</p>
<ul>
<li>
<p>t默认文本格式打开</p>
</li>
<li>
<p>x写模式新建一个文件，如果已经存在会报错。</p>
</li>
<li>
<p>b二进制模式</p>
</li>
<li>
<p>+打开一个文件可读可写</p>
</li>
<li>
<p>r只读，从头开始</p>
</li>
<li>
<p>rb</p>
</li>
<li>
<p>r+从开头开始可读可写</p>
</li>
<li>
<p>rb+</p>
</li>
<li>
<p>w文件不存在会创建文件，如果存在则从头开始写，原内容删除</p>
</li>
<li>
<p>w+</p>
</li>
<li>
<p>wb</p>
</li>
<li>
<p>wb+</p>
</li>
<li>
<p>a如果文件不存在则会创建文件，如果存在则会追加进行写入</p>
</li>
<li>
<p>ab</p>
</li>
<li>
<p>a+</p>
</li>
<li>
<p>ab+</p>
</li>
<li>
<p>相对路径：一般是当前文件夹内的文件</p>
</li>
<li>
<p>绝对路径：制定文件夹内的文件</p>
<pre><code>  with open(datafile) as file:  
  '''打开文件读取，并自动关闭'''  
  	data = file.read()
  	print(data)
</code></pre>
</li>
<li>
<p>写入write()</p>
</li>
<li>
<p>打开文件时可以传入第二个参数，来确定打开的文件操作形式 r：可读 r+：可读写 w+：写到文件末尾 a:附加到文件</p>
</li>
<li>
<p>主义写入时如果文件不存在会自动生成一个新文件，如果存在设定是w模式时，会自动清除对象文件重新写入。</p>
</li>
<li>
<p>读取read():返回文件内容readline()：读取一行文件内容，并记录读取位置readlines()：读取每行返回一个列表</p>
</li>
</ul>
<p>文件对象方法和数据属性：</p>
<ul>
<li>f.close()</li>
<li>f.fileno()</li>
<li>f.flush()</li>
<li>f.isatty()</li>
<li>f.read()</li>
<li>f.readline()</li>
<li>f.readlines()</li>
<li>f.seek(off,whence=0)移动到指定位置，第一个参数为偏移量。whence中的0表示从开头开始，为1时表示从当前位置开始，2表示从文件末尾开始。</li>
<li>f.tell()返回file内的当前值</li>
<li>f.truncate()截断file。默认为当前位置</li>
<li>f.write()</li>
<li>f.writelines(seq)向文件中写入序列，如果需要换行需要在序列中存在。</li>
<li>f.closed布尔类型</li>
<li>f.encoding返回编码类型</li>
<li>f.mode返回打开模式</li>
<li>f.name返回文件名称</li>
<li>f.newlines如果读取到行分隔符则为None</li>
</ul>
<h3 id="102异常"><a class="markdownIt-Anchor" href="#102异常"></a> 10.2异常</h3>
<blockquote>
<p>异常是使用try-except代码块来处理的,通过将可能引发错误的代码放进代码块中，可以提高抵御崩溃的能力</p>
</blockquote>
<pre><code>try:
	pass
except XxxError:
	pass
else:
	pass
</code></pre>
<p>上面的大致原理是，python尝试执行try中的代码，有一些try代码执行成功的信息放在else中,except告诉程序try中代码执行不成功时应该怎么做。</p>
<h3 id="103存储数据"><a class="markdownIt-Anchor" href="#103存储数据"></a> 10.3存储数据</h3>
<blockquote>
<p>json：是一种数据存储格式，并且会保存数据结构。</p>
</blockquote>
<ul>
<li>json.dump()存储</li>
<li>json.load()加载</li>
</ul>
<h3 id="104重构"><a class="markdownIt-Anchor" href="#104重构"></a> 10.4重构</h3>
<blockquote>
<p>重构将代码进行改进，使代码更清晰、容易扩展。<br />
将功能代码分成几个小的或者函数进行实现</p>
</blockquote>
<h2 id="十一-测试"><a class="markdownIt-Anchor" href="#十一-测试"></a> 十一、测试</h2>
<p><strong>待续</strong></p>

      
    </div>
    
      <div class="full-width auto-padding tags">
        
          <a href="/tags/Python/" rel="nofollow"><i class="fas fa-hashtag fa-fw"></i>Python</a>
        
      </div>
    
  </section>
</article>

          </div>
        
      
        
          <div class='post-wrapper'>
            <article class="post reveal ">
  


  <section class='meta'>
    
    
    <div class="meta" id="header-meta">
      
        
  <h2 class="title">
    <a href="/archives/e5d37995.html">
      航空公司客户价值分析
    </a>
  </h2>


      
      <div class='new-meta-box'>
        
          
        
          
            
  <div class='new-meta-item author'>
    <a href="/https:/cxpeng.cn" rel="nofollow">
      
        <img src="https://i.loli.net/2019/05/17/5cde5331de4a260723.jpg">
      
      <p>Alex</p>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2019-03-15</p>
  </a>
</div>

          
        
          
            
  
  <div class='new-meta-item category'>
    <a href='/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/' rel="nofollow">
      <i class="fas fa-folder-open" aria-hidden="true"></i>
      <p>数据分析</p>
    </a>
  </div>


          
        
          
            

          
        
          
            

          
        
      </div>
      
        <hr>
      
    </div>
  </section>


  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      <h1 id="一-挖掘目标"><a class="markdownIt-Anchor" href="#一-挖掘目标"></a> 一、挖掘目标</h1>
<p>通过分析航空公司用户数据，对客户进行分类，对不同类别的客户进行特征分析，比较不同客户的客户价值，针对不同客户价值的客户采取不同的营销手段，制定相应的营销手段。</p>
<p>数据的属性主要有：客户的基本信息、乘机信息、积分信息。下面就开始介绍一下详细数据挖掘流程。</p>
<h1 id="二-数据挖掘过程"><a class="markdownIt-Anchor" href="#二-数据挖掘过程"></a> 二、数据挖掘过程：</h1>
<p>首先考虑我们的目标是为了进行客户价值分类，通常采用的分析模型是RFM模型，也就是消费时间间隔、消费频率、消费金额的指标。但是对于航空行业来说，通过分析可以得知对于长距离低价位和短距离高价位的票价总额相等的客户来说显然M一样但是价值相差很大。这时候选择一定时间累计的飞行里程数和平均折扣系数的平均值代替票价金额作为分析指标，同时针对航空公司有会员制度因此加入客户关系长度作为指标之一，建立起<strong>LRFMC</strong>模型。</p>
<table>
<thead>
<tr>
<th style="text-align:center">模型</th>
<th style="text-align:center"><center>L</th>
<th style="text-align:center"><center>R</th>
<th style="text-align:left"><center>F</th>
<th style="text-align:center"><center>M</th>
<th style="text-align:center"><center>C</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">航空公司LRFMC模型</td>
<td style="text-align:center">会员入会时间距离观测窗口结束月数</td>
<td style="text-align:center">客户最近一次飞机乘坐距离观测窗口结束的月数</td>
<td style="text-align:left">客户观测窗口内乘坐的飞机次数</td>
<td style="text-align:center">客户在观测窗口中的飞行里程</td>
<td style="text-align:center">客户在观测窗口的乘坐舱位对应的折扣系数的平均值</td>
</tr>
</tbody>
</table>
<p>按照我们以上的RFM模型来分析的话，建立分箱图，可以很直观的显示不同客户群体，但是细分类别过多，增加的营销难度和成本。因此采取聚类的方法分析客户价值：<strong>K-means</strong></p>
<h2 id="1数据抽取"><a class="markdownIt-Anchor" href="#1数据抽取"></a> 1.数据抽取</h2>
<blockquote>
<p>选取观测窗口，包括起始日期和时间间隔。</p>
</blockquote>
<p><strong>观测窗口内的数据为历史数据，观测结束日期到最新时间点的数据为增量数据。</strong></p>
<h2 id="2数据探索explore"><a class="markdownIt-Anchor" href="#2数据探索explore"></a> 2.数据探索（explore）</h2>
<p>数据探索是对异常值和缺失值进行分析，分析出数据的规律和异常值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#-*- coding: utf-8 -*-</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#对数据进行基本的探索</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#返回缺失值个数以及最大最小值</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">datafile= <span class="string">'E:\Test_learning\data\chapter7\demo\data/air_data.csv'</span> <span class="comment">#航空原始数据,第一行为属性标签</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">resultfile = <span class="string">'E:\Test_learning\data\chapter7\demo\data/explore.xls'</span> <span class="comment">#数据探索结果表</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">data = pd.read_csv(datafile, encoding = <span class="string">'utf-8'</span>) <span class="comment">#读取原始数据，指定UTF-8编码（需要用文本编辑器将数据装换为UTF-8编码）</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">explore = data.describe(percentiles = [], include = <span class="string">'all'</span>).T <span class="comment">#包括对数据的基本描述，percentiles参数是指定计算多少的分位数表（如1/4分位数、中位数等）；T是转置，转置后更方便查阅</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">explore[<span class="string">'null'</span>] = len(data)-explore[<span class="string">'count'</span>] <span class="comment">#describe()函数自动计算非空值数，需要手动计算空值数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">explore = explore[[<span class="string">'null'</span>, <span class="string">'max'</span>, <span class="string">'min'</span>]]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">explore.columns = [<span class="string">u'空值数'</span>, <span class="string">u'最大值'</span>, <span class="string">u'最小值'</span>] <span class="comment">#表头重命名</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="string">'''这里只选取部分探索结果。describe()函数自动计算的字段有count（非空值数）、unique（唯一值数）、top（频数最高者）、freq（最高频数）、mean（平均值）、std（方差）、min（最小值）、50%（中位数）、max（最大值）'''</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">explore.to_excel(resultfile) <span class="comment">#导出结果</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">print(<span class="string">"over"</span>)</span></pre></td></tr></table></figure>
<p><strong>经过数据探索得到了数据的空值数和最大最小值，并保存结果</strong></p>
<h2 id="3数据预处理"><a class="markdownIt-Anchor" href="#3数据预处理"></a> 3.数据预处理</h2>
<blockquote>
<p>数据预处理包括数据清洗、属性规约、数据变换</p>
</blockquote>
<p>在pandas中数据清洗的处理方式是一次性把满足清洗条件的一行数据全部丢弃。<br />
在案例中清洗的是票价为空和（票价为0，折扣不为0，总飞行里程数大于0的记录） 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#-*- coding: utf-8 -*-</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#数据清洗，过滤掉不符合规则的数据</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">datafile= <span class="string">'../data/air_data.csv'</span> <span class="comment">#航空原始数据,第一行为属性标签</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">cleanedfile = <span class="string">'../tmp/data_cleaned.csv'</span> <span class="comment">#数据清洗后保存的文件</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">data = pd.read_csv(datafile,encoding=<span class="string">'utf-8'</span>) <span class="comment">#读取原始数据，指定UTF-8编码（需要用文本编辑器将数据装换为UTF-8编码）</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">data = data[data[<span class="string">'SUM_YR_1'</span>].notnull()*data[<span class="string">'SUM_YR_2'</span>].notnull()] <span class="comment">#票价非空值才保留</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#只保留票价非零的，或者平均折扣率与总飞行公里数同时为0的记录。</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">index1 = data[<span class="string">'SUM_YR_1'</span>] != <span class="number">0</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">index2 = data[<span class="string">'SUM_YR_2'</span>] != <span class="number">0</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">index3 = (data[<span class="string">'SEG_KM_SUM'</span>] == <span class="number">0</span>) &amp; (data[<span class="string">'avg_discount'</span>] == <span class="number">0</span>) <span class="comment">#该规则是“与”</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">data = data[index1 | index2 | index3] <span class="comment">#该规则是“或”</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">data.to_excel(cleanedfile) <span class="comment">#导出结果</span></span></pre></td></tr></table></figure>
<p>第二步数据清洗完之后进行属性规约，选择与模型分析相关的属性，去掉一些不相关、弱相关、和冗余的属性。<br />
第三步是进行数据变换。将数据进行转换，达到适合模型使用的要求。包括属性的构造和数据标准化<br />
根据已有属性分别计算L、R、F、M、C，然后进行数据标准化：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#-*- coding: utf-8 -*-</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#标准差标准化</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">datafile = <span class="string">'../data/zscoredata.xls'</span> <span class="comment">#需要进行标准化的数据文件；</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">zscoredfile = <span class="string">'../tmp/zscoreddata.xls'</span> <span class="comment">#标准差化后的数据存储路径文件；</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#标准化处理</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">data = pd.read_excel(datafile)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">data = (data - data.mean(axis = <span class="number">0</span>))/(data.std(axis = <span class="number">0</span>)) <span class="comment">#简洁的语句实现了标准化变换，类似地可以实现任何想要的变换。</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">data.columns=[<span class="string">'Z'</span>+i <span class="keyword">for</span> i <span class="keyword">in</span> data.columns] <span class="comment">#表头重命名。</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">data.to_excel(zscoredfile, index = <span class="literal">False</span>) <span class="comment">#数据写入</span></span></pre></td></tr></table></figure>
<p>上面已经通过数据探索和数据与处理处理完数据，下面就是模型构建和训练的过程了。</p>
<h2 id="4模型构建"><a class="markdownIt-Anchor" href="#4模型构建"></a> 4.模型构建</h2>
<h3 id="41客户聚类"><a class="markdownIt-Anchor" href="#41客户聚类"></a> 4.1客户聚类</h3>
<p><strong>结合业务的理解和分析来确定客户的类别数</strong></p>
<blockquote>
<p>使用算法为：K-means算法<br />
调用库为：Scikit-Learn下的聚类子库(sklearn.cluster)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">   <span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans <span class="comment">#导入kmeans算法</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">datafile = <span class="string">''</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">data = pd.read_excel(datafile)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">kmodel = KMeans(n_cluster = k, n_jobs = <span class="number">4</span>)<span class="comment">#n_jobs是并行数，一般设置为CPU的个数</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">kmodel.fit(data)<span class="comment">#训练模型</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">kmodel.cluster_center_<span class="comment">#查看聚类中心</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">kmodel.labels_  <span class="comment">#查看个样本对应的类别</span></span></pre></td></tr></table></figure>
<h3 id="42客户价值分析rank"><a class="markdownIt-Anchor" href="#42客户价值分析rank"></a> 4.2客户价值分析（Rank）</h3>
<p>上面根据模型训练可以得到聚类中心和样本类别，下面对聚类结果进行客户价值的分析。<br />
L：客户关系时间长度、R：上次乘坐航班距离观测窗口至结束的时间间隔、F：观测窗口内乘坐航班次数、M：观测窗口内的总的飞行里程、C、舱位票价平均折扣系数。通过对每个客户群体进行分析着五个指标可以将客户分为：</p>
<ul>
<li>重要保持客户：属于航空公司客户生命周期的稳定期。这类人对公司的贡献最大，也是对理想的客户类型，应该针对这类客户进行差异化管理，提高这类用户的满意度和忠诚度，尽可能延长这类客户的高消费。</li>
<li>重要发展客户：属于航空公司客户生命周期的发展期。这类人在当前贡献值可能不是很高，但是具有发展潜力。航空公司应该努力促使这类人增加在本公司的乘机消费和合作伙伴处的消费，增加他们转向竞争对手的转移成本。</li>
<li>重要挽留客户：属于航空公司客户生命周期管理的衰退期，航空公司应关注这类客户的消费时间和消费次数的变化，要掌握最新的客户信息。对其重点联系，及时营销。</li>
<li>一般客户与低价值客户：这种类型的客户对于航空公司的贡献比较低</li>
</ul>
<p><strong>对于上面的分类进行客户群体rank，可以得到上诉5类客户群体的优先级别。对于新增的客户信息，考虑业务的实际情况，建议每个月运行模型，对新增客户进行特征分析，适时调整营销策略。最后主要要随着观测窗口的变动进行模型的更新。一般是根据经验进行模型重新训练。</strong></p>
<h3 id="43模型应用"><a class="markdownIt-Anchor" href="#43模型应用"></a> 4.3模型应用</h3>
<p>对各个客户群进行特征分析，制定的营销手段如下：</p>
<ul>
<li>会员升级与保级：会员等级制度，做的工作是在时间节点进行提醒，或者提供会员促销活动，提高人们的消费欲望和满意度。</li>
<li>交叉销售：跟非航空公司企业合作，会员可以在合作企业消费获得本公司积分，增强与公司的联系。</li>
<li>首次兑换：达到一定的里程数可以兑换免费票或者折扣票，做到deadline提醒，或者提供优惠服务。</li>
</ul>
<h1 id="三-总结"><a class="markdownIt-Anchor" href="#三-总结"></a> 三、总结</h1>
<p>业务上来说客户的识别期和发展期很重要，但是最重要还是在稳定期要有一批优质的稳定客户。因此在进行业务分析时，应该将优先资源投入到这批客户中，做到一对一定制服务。</p>

      
    </div>
    
      <div class="full-width auto-padding tags">
        
          <a href="/tags/Python/" rel="nofollow"><i class="fas fa-hashtag fa-fw"></i>Python</a>
        
          <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" rel="nofollow"><i class="fas fa-hashtag fa-fw"></i>数据分析</a>
        
          <a href="/tags/K-Means/" rel="nofollow"><i class="fas fa-hashtag fa-fw"></i>K_Means</a>
        
      </div>
    
  </section>
</article>

          </div>
        
      
        
          <div class='post-wrapper'>
            <article class="post reveal ">
  


  <section class='meta'>
    
    
    <div class="meta" id="header-meta">
      
        
  <h2 class="title">
    <a href="/archives/ee940876.html">
      博客搭建记录
    </a>
  </h2>


      
      <div class='new-meta-box'>
        
          
        
          
            
  <div class='new-meta-item author'>
    <a href="/https:/cxpeng.cn" rel="nofollow">
      
        <img src="https://i.loli.net/2019/05/17/5cde5331de4a260723.jpg">
      
      <p>Alex</p>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2019-03-01</p>
  </a>
</div>

          
        
          
            
  
  <div class='new-meta-item category'>
    <a href='/categories/%E5%8D%9A%E5%AE%A2%E4%BC%98%E5%8C%96/' rel="nofollow">
      <i class="fas fa-folder-open" aria-hidden="true"></i>
      <p>博客优化</p>
    </a>
  </div>


          
        
          
            

          
        
          
            

          
        
      </div>
      
        <hr>
      
    </div>
  </section>


  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      <h1 id="一-前言"><a class="markdownIt-Anchor" href="#一-前言"></a> 一、前言</h1>
<p>从去年开始就一直想部署一个可以自己使用的博客，用来记录点东西，省的到后来用到的时候害的重新查询，一直百度。直到这个月要开始找工作了，有一个自己的博客不仅能够用来记录学习路线，还能够更直观的把自己展示给他人看，因此决定自己一搞一个人博客。花了点时间对比部署方案后，选择了最省钱的Hexo+Github,跟随教程花了点时间配置，下面主要记录下配置过程。</p>
<h1 id="二-准备阶段"><a class="markdownIt-Anchor" href="#二-准备阶段"></a> 二、准备阶段</h1>
<ol>
<li>注册一个github账号</li>
<li>安装node.js、npm</li>
<li>安装git</li>
</ol>
<p><strong>注：我是在Windows7 里面进行设置部署</strong></p>
<h1 id="三-开始搭建博客"><a class="markdownIt-Anchor" href="#三-开始搭建博客"></a> 三、开始搭建博客</h1>
<h2 id="1-github中创建仓库"><a class="markdownIt-Anchor" href="#1-github中创建仓库"></a> 1、github中创建仓库</h2>
<p>在github中新建仓库，<a href="http://xn--xxx-c88d89xgtao27c.github.io" target="_blank" rel="noopener">并命名为xxx.github.io</a>,注意<strong>xxx</strong>和你的github的账户名是相同的，后来你网站的域名将会是https：<a href="//xxx.github.io.xn--siq0gnk75pyofnxs">//xxx.github.io.所以为了域名</a>，你可以设置一个好听的仓库名。<br />
创建成功后，所有的网站文件都会被上传到这个仓库中。</p>
<h2 id="2-配置ssh-key"><a class="markdownIt-Anchor" href="#2-配置ssh-key"></a> 2、配置SSH key</h2>
<p>这是为了让自己有权限用git，提交文件到github中来。具体的步骤是在本机中找到./ssh文件夹，我换系统的时候经常没有因此，需要生成：用git bash：</p>
<pre><code>ssk-keygen -t rsa -C 'emailaddress'
</code></pre>
<p>然后按三次回车，就会在c盘user下面生成./ssh文件，将id_rsa.pub中的文本根据下面的配置添加到key中，其中title可以随便起名。<br />
<img src="https://i.imgur.com/ZgiejaH.png" alt="" /><img src="https://i.imgur.com/5MmJjHP.png" alt="" /></p>
<p>还需要进行配置：</p>
<pre><code>git config --global user.name &quot;xxx&quot;// 你的github用户名，非昵称
git config --global user.email  &quot;email&quot;// github注册邮箱
</code></pre>
<h2 id="3-搭建博客雏形"><a class="markdownIt-Anchor" href="#3-搭建博客雏形"></a> 3、搭建博客雏形</h2>
<ol>
<li>
<p>安装hexo、初始化<br />
npm install -g hexo<br />
建立一个文件夹，用于本地blog存储，进入文件夹内，打开git bash并进行初始化：</p>
<p>hexo init<br />
hexo g #生成<br />
hexo s #启动服务<br />
如下：<br />
<img src="https://i.imgur.com/8pAiFNI.png" alt="" /></p>
</li>
</ol>
<h2 id="4-修改主题"><a class="markdownIt-Anchor" href="#4-修改主题"></a> 4、修改主题</h2>
<p>博客还是用来进行阅读的因此稳定性比较重要，现在用户最多的还是next主题，因此我选用的也是next：<br />
下载，还是在刚才的文件夹下<br />
使用git bash：</p>
<pre><code>git clone https://github.com/iissnan/hexo-theme-next themes/next
</code></pre>
<p>done之后就可以在根目录下发现有一个theme的文件夹里面有next文件，更改样式时，一般是时修改next文件里面的配置文件。安装好主题之后，可以浏览器打开本地<br />
localhost:4000站点进行访问</p>
<p>到现在，基本的博客雏形已经出现了，下面就是开始hexo的配置。</p>
<p>配置部分我直接贴链接了，非常感谢下面大神的指导！</p>
<h2 id="5-主题优化"><a class="markdownIt-Anchor" href="#5-主题优化"></a> 5、主题优化</h2>
<ul>
<li><a href="http://blog.ynxiu.com/2016/hexo-next-theme-optimize.html" target="_blank" rel="noopener" title="量子广告的博客">http://blog.ynxiu.com/2016/hexo-next-theme-optimize.html</a></li>
<li><a href="https://www.simon96.online/2018/10/12/hexo-tutorial/" target="_blank" rel="noopener" title="遇见西门">https://www.simon96.online/2018/10/12/hexo-tutorial/</a></li>
<li><a href="http://blog.321zou.com/" target="_blank" rel="noopener" title="TOP猜想">http://blog.321zou.com/</a></li>
</ul>
<h1 id="四-问题汇总"><a class="markdownIt-Anchor" href="#四-问题汇总"></a> 四、问题汇总</h1>
<blockquote>
<p>后续更新</p>
</blockquote>
<ul>
<li><strong>MarkdownPad2中添加的图片不能显示</strong>：先要配置<code>_config.yml</code>,找到<code>post_asset_folder</code>设为<code>true</code>后，以后再创建文章就会在文章目录生成一个同名文件夹，可以将文章配图放在此文件夹中，然后在写文章时下入相对路径就可以。<code>![](图片名)</code></li>
<li><strong>怎么在文章中添加文件下载</strong>：和上一个问题解决办法一样，先修改配置文件，然后再在source下新建文件夹downloads，把需要下载的文件放入到该文件夹下就可以，在以后发布文章时，只要在文中添加 <code>[点击下载](/downloads/filename)</code>之后，这样部署之后的网站，就可以看到下载链接和进行下载文件了。</li>
</ul>
<p><img src="%E9%BB%84.gif" alt="" /></p>

      
    </div>
    
  </section>
</article>

          </div>
        
      
    
  </section>
  
    
      <br>
      <div class="prev-next">
        <div class="prev-next">
          
            <a class="prev" rel="prev" href="/archives/2019/page/3/">
              <section class="post prev" >
                <i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;上一页&nbsp;
              </section>
            </a>
          
          <p class="current">
            4 / 4
          </p>
          
        </div>
      </div>

    
    <!-- 根据主题中的设置决定是否在archive中针对摘要部分的MathJax公式加载mathjax.js文件 -->
    
    

  


	
</div>
<aside class='l_side'>
  
    
    
      
        
          
          
            <section class='widget author'>
  <div class='content pure'>
    
      <div class='avatar'>
        <img class='avatar' src='https://i.loli.net/2019/05/17/5cde38cb9140a70140.jpg'/>
      </div>
    
    
      <div class='text'>
        
          <h2>蔡祥朋</h2>
        
        
          <p>When the going gets tough,the tough get going!</p>

        
        
      </div>
    
    
      <div class="social-wrapper">
        
          
            <a href="/atom.xml"
              class="social fas fa-rss flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="mailto:qd_caixiangpeng@163.com"
              class="social fas fa-envelope flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://github.com/caixp"
              class="social fab fa-github flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://music.163.com/#/user/home?id=71816786"
              class="social fas fa-headphones-alt flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
        
      </div>
    
  </div>
</section>

          
        
      
        
          
          
            

          
        
      
        
          
          
            <section class='widget grid'>
  
<header class='pure'>
  <div><i class="fas fa-map-signs fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;站内导航</div>
  
</header>

  <div class='content pure'>
    <ul class="grid navgation">
      
        <li><a class="flat-box" title="/archives/" href="/archives/"
          
            rel="nofollow"
          
          
          id="archives">
          
            <i class="fas fa-archive fa-fw" aria-hidden="true"></i>
          
          近期文章
        </a></li>
      
        <li><a class="flat-box" title="/friends/" href="/friends/"
          
            rel="nofollow"
          
          
          id="friends">
          
            <i class="fas fa-link fa-fw" aria-hidden="true"></i>
          
          我的友链
        </a></li>
      
        <li><a class="flat-box" title="/about/" href="/about/"
          
            rel="nofollow"
          
          
          id="about">
          
            <i class="fas fa-user-secret fa-fw" aria-hidden="true"></i>
          
          简历
        </a></li>
      
    </ul>
  </div>
</section>

          
        
      
        
          
          
            
  <section class='widget category'>
    
<header class='pure'>
  <div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;文章分类</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/categories/"
    title="categories/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <ul class="entry">
        
          <li><a class="flat-box" title="/categories/5G/" href="/categories/5G/"><div class='name'>5G</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/C-C/" href="/categories/C-C/"><div class='name'>C/C++</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Linux/" href="/categories/Linux/"><div class='name'>Linux</div><div class='badge'>(4)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Python/" href="/categories/Python/"><div class='name'>Python</div><div class='badge'>(7)</div></a></li>
        
          <li><a class="flat-box" title="/categories/opencv%E5%AD%A6%E4%B9%A0/" href="/categories/opencv%E5%AD%A6%E4%B9%A0/"><div class='name'>opencv学习</div><div class='badge'>(2)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E5%8D%9A%E5%AE%A2%E4%BC%98%E5%8C%96/" href="/categories/%E5%8D%9A%E5%AE%A2%E4%BC%98%E5%8C%96/"><div class='name'>博客优化</div><div class='badge'>(2)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E5%90%91%E5%BE%80%E7%9A%84%E7%94%9F%E6%B4%BB/" href="/categories/%E5%90%91%E5%BE%80%E7%9A%84%E7%94%9F%E6%B4%BB/"><div class='name'>向往的生活</div><div class='badge'>(7)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/" href="/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/"><div class='name'>实用工具汇总</div><div class='badge'>(3)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"><div class='name'>数据分析</div><div class='badge'>(2)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><div class='name'>数据库</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E7%88%AC%E8%99%AB/" href="/categories/%E7%88%AC%E8%99%AB/"><div class='name'>爬虫</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E7%AC%94%E8%AF%95%E9%9D%A2%E8%AF%95/" href="/categories/%E7%AC%94%E8%AF%95%E9%9D%A2%E8%AF%95/"><div class='name'>笔试面试</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"><div class='name'>计算机视觉</div><div class='badge'>(1)</div></a></li>
        
      </ul>
    </div>
  </section>


          
        
      
        
          
          
            
  <section class='widget tagcloud'>
    
<header class='pure'>
  <div><i class="fas fa-fire fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;热门标签</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/tags/"
    title="tags/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <a href="/tags/AWS/" style="font-size: 14px; color: #999">AWS</a> <a href="/tags/C/" style="font-size: 14px; color: #999">C++</a> <a href="/tags/D2D/" style="font-size: 14px; color: #999">D2D</a> <a href="/tags/Git/" style="font-size: 14px; color: #999">Git</a> <a href="/tags/K-Means/" style="font-size: 14px; color: #999">K_Means</a> <a href="/tags/Linux/" style="font-size: 17.33px; color: #828282">Linux</a> <a href="/tags/Python/" style="font-size: 24px; color: #555">Python</a> <a href="/tags/SQL/" style="font-size: 14px; color: #999">SQL</a> <a href="/tags/opencv/" style="font-size: 14px; color: #999">opencv</a> <a href="/tags/%E5%85%8D%E8%B4%B9/" style="font-size: 14px; color: #999">免费</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 14px; color: #999">多线程</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" style="font-size: 20.67px; color: #6c6c6c">数据分析</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 14px; color: #999">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/" style="font-size: 14px; color: #999">数据挖掘</a> <a href="/tags/%E6%A8%A1%E5%9D%97/" style="font-size: 14px; color: #999">模块</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 14px; color: #999">爬虫</a> <a href="/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" style="font-size: 14px; color: #999">科学上网</a> <a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 14px; color: #999">编程</a>
    </div>
  </section>


          
        
      
        
          
          
            


  <section class='widget music'>
    
<header class='pure'>
  <div><i class="fas fa-compact-disc fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;喜欢的音乐</div>
  
    <a class="rightBtn"
    
      rel="external nofollow noopener noreferrer"
    
    
      target="_blank"
    
    href="https://music.163.com/#/user/home?id=71816786"
    title="https://music.163.com/#/user/home?id=71816786">
    <i class="far fa-heart fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.css">
  <div class="aplayer"
    data-theme="#1BCDFC"
    
    
    data-mode="circulation"
    data-server="netease"
    data-type="playlist"
    data-id="77047229"
    data-volume="0.7">
  </div>
  <script src="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/meting@1.1.0/dist/Meting.min.js"></script>


    </div>
  </section>


          
        
      
    

  
</aside>

<footer id="footer" class="clearfix">
  
  
    <div class="social-wrapper">
      
        
          <a href="/atom.xml"
            class="social fas fa-rss flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="mailto:qd_caixiangpeng@163.com"
            class="social fas fa-envelope flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="https://github.com/caixp"
            class="social fab fa-github flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="https://music.163.com/#/user/home?id=71816786"
            class="social fas fa-headphones-alt flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
    </div>
  
  <br>

  <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("05/15/2019 17:38:00");//在此处修改你的建站时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
setInterval("createtime()",250);
</script>

  <div><p>博客内容遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</a></p>
</div>
  <div>
    本站使用
    <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" class="codename">Material X</a>
    作为主题
    

      ｜

      总访问量为
      <span id="busuanzi_value_site_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span>
      次
    

    ｜

    <i class="fas fa-chart-area"></i>
    <span class="post-count">字数统计：40.4k</span>
  </div>
</footer>
<script>setLoadingBarProgress(80);</script>




	<!-- 根据主题中的设置决定是否在archive中针对摘要部分的MathJax公式加载mathjax.js文件 -->
	

	


      <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)' target="_blank" rel="noopener"></a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>

  <script>
    var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
    var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
    var ALGOLIA_API_KEY = "";
    var ALGOLIA_APP_ID = "";
    var ALGOLIA_INDEX_NAME = "";
    var AZURE_SERVICE_NAME = "";
    var AZURE_INDEX_NAME = "";
    var AZURE_QUERY_KEY = "";
    var BAIDU_API_ID = "";
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/"||"/";
    if(!ROOT.endsWith('/'))ROOT += '/';
  </script>

<script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script>


  <script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    $(function() {
      const $reveal = $('.reveal');
      if ($reveal.length === 0) return;
      const sr = ScrollReveal({ distance: 0 });
      sr.reveal('.reveal');
    });
  </script>


  <script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>
  <script type="text/javascript">
    $(function() {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>


  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script>




  
  
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>
    <script type="text/javascript">
      $(function(){
        if ('.cover') {
          $('.cover').backstretch(
          ["https://i.loli.net/2019/05/17/5cde3fa1ee6bf19130.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        } else {
          $.backstretch(
          ["https://i.loli.net/2019/05/17/5cde3fa1ee6bf19130.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        }
      });
    </script>
  











  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.4.19/js/app.js"></script>


  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.4.19/js/search.js"></script>




<!-- 复制 -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  let COPY_SUCCESS = "复制成功";
  let COPY_FAILURE = "复制失败";
  /*页面载入完成后，创建复制按钮*/
  !function (e, t, a) {
    /* code */
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '  <i class="fa fa-copy"></i><span>复制</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });

      clipboard.on('success', function(e) {
        //您可以加入成功提示
        console.info('Action:', e.action);
        console.info('Text:', e.text);
        console.info('Trigger:', e.trigger);
        success_prompt(COPY_SUCCESS);
        e.clearSelection();
      });
      clipboard.on('error', function(e) {
        //您可以加入失败提示
        console.error('Action:', e.action);
        console.error('Trigger:', e.trigger);
        fail_prompt(COPY_FAILURE);
      });
    }
    initCopyCode();

  }(window, document);

  /**
   * 弹出式提示框，默认1.5秒自动消失
   * @param message 提示信息
   * @param style 提示样式，有alert-success、alert-danger、alert-warning、alert-info
   * @param time 消失时间
   */
  var prompt = function (message, style, time)
  {
      style = (style === undefined) ? 'alert-success' : style;
      time = (time === undefined) ? 1500 : time*1000;
      $('<div>')
          .appendTo('body')
          .addClass('alert ' + style)
          .html(message)
          .show()
          .delay(time)
          .fadeOut();
  };

  // 成功提示
  var success_prompt = function(message, time)
  {
      prompt(message, 'alert-success', time);
  };

  // 失败提示
  var fail_prompt = function(message, time)
  {
      prompt(message, 'alert-danger', time);
  };

  // 提醒
  var warning_prompt = function(message, time)
  {
      prompt(message, 'alert-warning', time);
  };

  // 信息提示
  var info_prompt = function(message, time)
  {
      prompt(message, 'alert-info', time);
  };

</script>


<!-- fancybox -->
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  let LAZY_LOAD_IMAGE = "";
  $(".article-entry").find("fancybox").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* 图片采用懒加载处理时,
       * 一般图片标签内会有个属性名来存放图片的真实地址，比如 data-original,
       * 那么此处将原本的属性名src替换为对应属性名data-original,
       * 修改如下
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });
</script>





  <script>setLoadingBarProgress(100);</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>
